env_name: "production"

k8s_domain_names:
- pointy-production-eks.caktus-built.com


k8s_container_image_tag: "{{ env_name }}"
k8s_container_replicas: 1
k8s_worker_replicas: 1
k8s_elasticsearch_replicas: 1

k8s_ingress_certificate_issuer: letsencrypt-production

k8s_container_htpasswd: "pointy:$apr1$sZfkDRsW$pVArG3uMNSvv/1Ls7zQW3."

database_password: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        33383639366534373131356163336635333032306533666562346534663561373531366434336330
        6266303630646264353033383635323338343431316631640a643139373133366638316538626630
        34613264663030366462343935653061646262343864346338623230323535326264373136666535
        3637376361396261300a303532646365653665353665353861343937336538633865653662623230
        3539

# This is specific to production because it's the token for a deploy account
# in the pointy-production namespace.
k8s_auth_api_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36623966353530663562363865636638623934376235663236303632356539303965303463666338
          6663313766353137353738643432303666666336393833380a363232333336626563383236653333
          39323834643339663237343131663666346665623766373736386333393639653639306163323931
          6432363166303030380a343439656338323530353666643636383234376435386562363834343039
          37383738313865643636623631366261623535313461333364663032393337393933633534306339
          31363030663765626666306231343861313031363035396434656362616137623336316338363037
          37653837336233386339643534363137663765633138333164666635363631646632343030343666
          61393064616431626138396530366638663736613762316165323135313132613363626565316663
          66306661636561393738316536303731376333303362653933363935323662366534623032316631
          36393531316265376630316336646466386431633666353065333366373032303765623934636265
          37646464343462666466353331346239646632313635393633633130333734356236393766393833
          61383439393431373636363038353536666433643864626432366664623366313838383530323032
          63613731396339363962653061393831306536376334306234313739656265323137623836656631
          30656239383765343337383634306166623566323139343062363133663632323732643639306665
          65316639646266383062303433356138666563393635666430643338626532343635663035663039
          33326631663337373161373864333334666436313962663337363836633361393661653130363463
          32313439643965363134366136643731373766346232366461646339653436303339363034323965
          34313265376261306461336564666565313031636333343163323238663234626238393537326566
          64343931656665653735626333346661643930336238656635663239323065303333616539316262
          62343935643665663163383535653962383830353263333033383365663233386532323439326537
          35623337363266393163386635633763346562623361383836386335616535646662393962376238
          62363837623866316131303561323332646534363034386261646262346430306131396166653865
          66343537373330333939623939643661396361323839323232316436326265373664306631363261
          33336162376334643163333835376365313732663439383062333738636331643663386262353935
          65636136633164626430633537663464323561623430643336363261666561623239653033353836
          31323064336261353034333532356234346438336335343565623266646565316534303434393539
          34653030346533613436303637333031376331633532386461333137613563636164366437373037
          30663863306335656564666466373366393164356632646564333964313964373839303939613662
          35616538363334373931343133343835396163363934383565386530356637336662313233363564
          30663330643938623637633033326530363065396566656263313639666434663534393135646434
          66306339663039353337323635623663636337366366313733313866656332306264636232643535
          64663765656439343231313331363730383265373263363338623561343464366135396230613263
          30326166653064616630353865626633343130656137633234306232663366386139383535666330
          66636331336532326633326366313430363732343134396637393430646634323434656163313162
          30336435353863383838653764656630356131613266666439303261643437373439303061373035
          35353834373666643532363063613035653135343132393233356161306338653737366235373031
          64616438303932623032333036366631643637316539393662396364333263663434656636613266
          31323836376361643332643762623732306438663935316631616236633665313339623762373432
          30313365646164333334343438653836333265343033353138323863656638653436613334646538
          30303437353332373865653364353438313331346139336437653364656535376533323765653433
          34356135333664353164616533346661303762326339633232653366373833353366626632343861
          65306337393562393736663066646532646333646236396336623536373566303263623533386534
          65383161343062636239623631316365633530376161366365653864656632623534323632666665
          32653365616231336538393530656430313334313666386161383464393963643633663162396265
          39393036393965633931636236386431333935363330333861393838383164363030636666633864
          32323335343364656435376164373032356136316434663138343166326164613663313739663533
          33356465613962343566666439396664626166353237386233363536393832346266666232623764
          66656632303765653231653234646263323335306236333831356233323533643163373361393736
          3431

k8s_environment_variables:
  # Pass ALLOWED_HOSTS as comma-sep string
  ALLOWED_HOSTS: "{{ k8s_domain_names|join(',') }}"
  AWS_S3_REGION_NAME: "{{ aws_region }}"
  # JUST keep using same buckets as before, and cloudfront
  AWS_PRIVATE_STORAGE_BUCKET_NAME: pt-production-privateassetsbucket-6kzenaorhxf3
  MEDIA_S3_CUSTOM_DOMAIN: media-pointy-production.caktus-built.com
  AWS_STORAGE_BUCKET_NAME: pt-production-assetsbucket-16oskqzhpner5

  # Access redis by its internal service name
  BROKER_URL: 'redis://redis:5672/0'
  # Access memcached by its internal service name
  CACHE_HOST: memcached:11211
  DATABASE_URL: "postgres://pointy_production:{{ database_password }}@pd1mkme64jqsopw.cfndmcylfosz.us-west-2.rds.amazonaws.com:5432/pointy_production"
  DJANGO_SETTINGS_MODULE: 'pointy.settings.k8s_deploy'
  DJANGO_STATIC_HOST: cf-pointy-production.caktus-built.com
  DOMAIN: "{{ k8s_domain_names[0] }}"
  EMAIL_SUBJECT_PREFIX: '[pointy {{ env_name }}] '
  ENVIRONMENT: "{{ env_name }}"
  NEW_RELIC_APP_NAME: 'pointy {{ env_name }}'
  NEW_RELIC_LICENSE_KEY: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36653437653938306465396534303439663434373230323234636639643433366339366635663939
          3662626666316663353232653437313531656162393964350a396363373166366234616236303765
          61623565613461623339643331326537623330323961386266663431643236363334626638356639
          3137636339623832380a313165363766636335363336333762386530316134363236323638656463
          61646234643066353564633665386361393861636439373035393030393138613638656138616139
          3934613831613035383238623962386136613032653534366131
  
  SECRET_KEY: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64616662663435366536386263373235303063643831356635646264663735643864643362653866
          6163316539323538313937306664613938306434356466610a376566336163326138366135373236
          38633365323035336133383962656666306661333431383636343834353064326138306365333535
          3935636163363533630a626632646238623136333339613337363462383362326639663864383331
          39373238383033323335353435346462633365396333616333356636646430656237333236633661
          33323135636531306338393436353936313663643630393430663539346430666561313861326335
          38623531656363373632333965353063616432383336323830373962333038623930376239663664
          64366337313933376164
