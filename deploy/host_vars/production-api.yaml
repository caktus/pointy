env_name: "production"

k8s_ingress_certificate_issuer: letsencrypt-production
k8s_domain_names:
  - pointy.caktus-built.com

k8s_container_image: "{{ eks_registry }}/pointy_api"
k8s_container_name: "api"
k8s_container_port: 8000
k8s_container_replicas: 1
k8s_container_ingress_paths:
  - /admin
  - /ws
  - /django-static

k8s_redis_enabled: true

database_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          62343566353162386630626535386164343063616362373235643138343562386363336463316137
          3131623238356234653433316163326130373136653536660a383633373038383035636436393366
          38333539613435333339326139393930643561623962613262343731623566313964363238373732
          3232623539636533350a303339636631313633303761626534353338633833343965376366366263
          39663736386463333336353938623139376663396362323661343837323536346462

k8s_environment_variables:
  # Access memcached by its internal service name
  DATABASE_URL: "postgres://pointy_production:{{ database_password }}@{{ DatabaseAddress }}:5432/pointy_production"
  DJANGO_SETTINGS_MODULE: 'pointy.settings_deploy'
  DJANGO_DEBUG: "False"
  DOMAIN: "{{ k8s_domain_names[0] }}"
  ALLOWED_HOSTS: "{{ k8s_domain_names[0] }}"
  ENVIRONMENT: "{{ env_name }}"
  CHANNELS_HOST: "redis://redis:6379/0"
  STATIC_URL: /django-static/
  SENTRY_DSN: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38383834643631323661323230373161633437633461656535633037306436383463366365383737
          3734666233323865616438663534383232363261666630380a316335396335393532616232636539
          64386362343361336130616539663835623965623339396434633761636634333462353061353931
          3263366230376561330a323762346438636161326334373732653133613766303537333933303462
          64363462373962383030353530386638646266313136636132653165343463333461623338326463
          63363433326664373331616561363338626435346530373234373439396461613166323932336536
          63623264663237343233313338636435383463613139343666663062636466353364363230346561
          38613566386166336664666230666363386133663764303031353133633363643463633561386436
          64346434363936313235663063373633303966663332623262306265316532313837
  DJANGO_SECRET_KEY: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          37356137666362316531656632393237373666323239643031363161353563666632336163666231
          6162363363633661306630313839303665666163356432620a623535623636326234633130376432
          62383732346639336135313133646363333162363166373331383731626464643433353665666132
          6334393338356139370a306532396636353839663266613961633231303932616134653338373761
          38376635653530313335316237356138623366386339383836306638613063646530663366373462
          66633861393334356266393533373763633362323537306239363934663830356664363936303362
          663930646235663331313561333663373436
